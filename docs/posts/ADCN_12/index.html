<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brad Stenger">
<meta name="dcterms.date" content="2026-02-16">

<title>ADCN: Tanking, Autonomy, News – newsletter</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-a37c72dd2dbac68997fcdc15a3622e78.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-2e2a78c07a477a1d763148e43113f08b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">newsletter</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Brad Stenger</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">ADCN: Tanking, Autonomy, News</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Brad Stenger </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 16, 2026</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<div style="height:290">
    <iframe src="https://cdn.forms-content.sg-form.com/ed8875f7-7972-11f0-ad55-92cd5bc3b37f" width="340" height="300" scrolling="no"></iframe>
</div>

</div></div>
        
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="professor-level-analysis-to-solve-nba-tanking" class="level3">
<h3 class="anchored" data-anchor-id="professor-level-analysis-to-solve-nba-tanking">Professor-level Analysis to Solve NBA Tanking</h3>
<p>Somewhat out of the blue, Brian Nosek <a href="https://bsky.app/profile/briannosek.bsky.social/post/3meubzme4tk25">weighed in</a> with his solution to the problem of NBA tanking. Nosek is a University of Virginia psychology professor and a founder of the Center for Open Science. COS is the foremost authority on the relationship between research quality, academic integrity and data sharing.</p>
<p><img src="Nosek.png" class="img-fluid"></p>
<p>Nosek’s recommendation is a “tweak” and not an “overhaul.” Bill Simmons and Zach Lowe spent ~30 minutes during <a href="https://www.theringer.com/podcasts/the-bill-simmons-podcast/2026/02/15/nba-season-catch-up-all-star-weekend-reactions-and-more-with-zach-lowe">their most recent podcast</a> suggesting (then discussing) tweaks that the NBA might adopt in order to solve the problem of teams’ tanking (losing games with intention so that they improve their player draft position). Simmons introduced the subject by highlighting how tanking is a multi-faceted problem, and not a singular dilemma. The incentives are all wrong, according to Simmons. The season is too long and it means that star players more fragile. Teams profit from the longer season and have already pocketed customers’ season-ticket money, plus face no repercussions for a let’s tank decision.</p>
<p>Lowe made the point a few times that a sports league will always have its bad teams and a reverse-order draft should, in theory, redistribute talent in ways that help the bad teams. Nothing differentiates a bad-on-purpose team from a just-bad team. Nosek’s solution incentivizes the games in a manner that should prevent (but not necessarily penalize) bad-on-purpose teams.</p>
<p>It doesn’t address the how 82 games is too many for an NBA season however. The Nosek formula works for 82, 72 or 62 games in a season. Now that Barack Obama has <a href="https://sports.yahoo.com/articles/barack-obama-urges-nba-owners-125500618.html">added his voice</a> to the chorus of people saying “let’s play fewer games” we shall see if the tipping point has arrived.</p>
<p>I think that data sharing is a crucial overlooked aspect for any tanking solution in part because data sharing offers a path to evidence for why more injuries occur when players experience longer schedules with harder games, something that the NBA Commissioner Adam Silver <a href="https://www.nbcsports.com/nba/news/adam-silver-players-dont-get-worn-down-more-injured-over-season">disputes</a>. Simon Kuper has the data for European soccer and <a href="https://www.reddit.com/r/soccer/comments/1o9s42x/financial_times_injury_time_the_hidden_shift_in/">wrote the article</a> that it’s not necessarily the number of games, but the higher intensity and its increased frequency with more games that leads to injury. I’ve yet to read the North American version of this article for basketball (or football, baseball or hockey).</p>
<p>If the NBA did opt for a shorter season it would increase the importance of shared data, something to give teams replacement data after they lose 10 games worth of team data. The quality of the shared data should also increase from playing more competitive games across the league. Teams and players will be get a clearer indication of wear and tear on athletes.</p>
<p>Improving our collective understanding of the physical deterioration of professional basketball players still might not predict injury occurrences. The risk modeling for injury prediction will have to parse huge numbers of mostly indistinguishable events to differentiate among athletes whe vary enormously in their physical dimensions and capabilities. The risk modeling for athletes’ decline is, however, far easier and creates a substantially different financial risk model for sports teams.</p>
<p>Right now NBA teams employ <a href="https://www.truehoop.com/p/incandescent-fitness">high-energy playing styles</a> that reduce the effectiveness of star players, especially during crunch time late in games. The playing style benefits from younger, faster participants which in turn raises the stakes for NBA teams’ successful drafts and young free agent pickups. Shared data and more data for biomechanics and player tracking should be able to add nuance to high-energy strategy that doesn’t also have the severe injury effects.</p>
<p>There will always be bad teams. The NFL has successfully tweaked its rules so that the natural cycle of winning and losing is democratic (small-d) but even it hasn’t eliminated tanking. Chuck Klosterman’s new book about football says that the games’ physicality is <a href="https://awfulannouncing.com/podcasts/chuck-klosterman-football-best-thing-television-ever-created.html">a high-level floor</a> that demands player effort. But the NFL seems to like the reverse-order player draft as a way to distribute talent, making late-season tanking unavoidable.</p>
<p>If a Nosek algorithm can disable the incentives for losing, then data sharing might then kick in the potential for analytical nuance of players’ biomechanics and exertion data to diversify the range of successful NBA playing styles (big and slow, small and fast, three and D, stars and scrubs, etc.). Maybe the path to NFL-like parity in the NBA is the same one that ends the scourge of tanking.</p>
</section>
<section id="olympic-skiers-autonomy" class="level3">
<h3 class="anchored" data-anchor-id="olympic-skiers-autonomy">Olympic Skiers’ Autonomy</h3>
<p>Lindsey Vonn <a href="https://www.youtube.com/watch?v=hX0MRl-zmWE&amp;t=1s">crashed out</a> of the Olympics, skiing on one leg at age 41 in her sports’ most competitive, highest profile race. There’s lots in that last sentence to suggest that Vonn’s participation was unwise, possibly irrational. Any suggestion that whatever occured is <a href="https://www.insidethegames.biz/articles/ethics-autonomy-collide-off-the-slope">ethically questionable</a> is way off base. Vonn knew the risks involved and a made a decision that was her decision to make, and <a href="https://www.reddit.com/r/Residency/comments/1r07yqy/would_you_have_cleared_lindsey_vonn_to_compete_in/">no one else’s</a>.</p>
<p>The <a href="https://www.reuters.com/sports/who-decides-vonn-crash-exposes-tensions-over-athlete-autonomy-2026-02-08/">subject of autonomy</a> around Vonn’s race gained significance when Norway’s ski federation decided that Marte Monsen, who also seriously hurt herself during a pre-Olympics race, should not participate in the Olympics. An Olympics race official did not elaborate the reasons, just saying that Norway brought Monsen to Cortina, and “at the end they decided not to let her start for safety reasons.”</p>
<p>Monsen had suffered injuries to her head. A head injury changes the individuals’ judgment calculation, giving authorities more leeway to interject on an athletes’ behalf. Monsen is also 26 years old with her best professional skiing years ahead of her (probably). There is an economic dimension that hangs over an Olympics return-to-ski decision, where the enormous global attention creates financial opportunities that exceed anything else in the sport.</p>
<p>Vonn was experienced, informed, cared for and hungry for the media attention. Even if her risk model suggested that she was more likely to fall than to successfully navigate the race course, there was nothing missing in the details of her situational risk analysis, and that includes the enormous benefit from attention that would come to her.</p>
<p>I watched the video of Vonn’s fall with an experienced ski technician. He said and anyone could see that she was done for before she hit the lip that launched her to her doom. The skis needed to be parallel and were not even close. The strength to keep her no-ACL left leg beside her bionic, surgically-repaired right leg was not there. Vonn rotated her position to absorb the force on her bionic right side, an indication that she was prepared for this outcome both cognitively and physically. Vonn ate it. Her left leg broke. The right leg held up. Her brand as a risk-taker remains authentic.</p>
<p>Autonomy is a real issue in sports return-to-play decisions. Norway said little about the reasons for holding Monsen out of the Olympics. Meanwhile Vonn added to her sponsorship portfolio leading up to her (probably) final race, <a href="https://www.usatoday.com/story/sports/olympics/2026/01/26/lindsey-vonn-medical-team-new-ad-campaign/88291877007/">partnering</a> with healthcare apparel maker FIGS in a campaign that celebrates the medical team whose technical excellence made it possible for her broken 41-year old body (augmented by Vonn’s own hard work) to compete at a the sport’s highest level. Vonn knows more about her body and how the situation of an Olympics downhill ski race stands to damage it further. She can at the same time limit her downside risk and profit from it because she has a bionic right leg, and if the ski conditions put her weaker left leg in an untenable position then, well, it’s still a win for Vonn at the end of the day.</p>
<p>Obviously most athletes are not Lindsey Vonn. They are not 41-year elite-level Olympic competitors who know their bodies and their technical craft in ways that few athletes are ever in position to experience.</p>
<p>Most athletes are not Marte Monsen. They are not best-in-Europe at age 26 and come from a nation, Norway, that invented the idea of <a href="https://skiracing.com/the-norwegian-development-system/">Long-Term Athletic Development</a>. Their long-term best interests might not be prioritized over the short term gain that come with once every four years Olympics.</p>
<p>Privacy is a factor in return-to-play. I regularly ask college athletes about “setbacks.” These are situations where athletes’ development isn’t positive and productive. These situations can, in the worst cases, become downward spirals that become difficult to escape. These athletes are completely aware that their health and performance data sometimes exists in a gray area. The data affects their personal situation and it affects their team’s competitiveness. The athletes know that their data can be used against them by coaches in a setback situation. This is the where athletes’ autonomy and privacy both play a role in what stands to be the defining moments of young athletes’ careers.</p>
<p>Celebrate Vonn, or just watch her commercials begrudgingly. Keep an eye out for Monsen. See if she reaches her star potential. Remember the thousands of other athletes around the world who don’t have the autonomy or the protections to futureproof their return-to-competition decisions.</p>
</section>
<section id="news" class="level3">
<h3 class="anchored" data-anchor-id="news">News</h3>
<ul>
<li><p><a href="https://ijspt.scholasticahq.com/article/155478-perceptions-of-biomechanical-devices-in-collegiate-baseball-pitchers-and-training-staff-a-qualitative-study">Perceptions of Biomechanical Devices in Collegiate Baseball Pitchers and Training Staff: A Qualitative Study</a> in <em>The International Journal of Sports Physical Therapy</em> by Chelsea Martin et al.&nbsp;on February 1, 2026</p></li>
<li><p><a href="https://www.science.org/content/article/inside-quest-make-safer-football-helmet">Softening the blow - Inside the data-driven quest to make football helmets safer</a> in <em>Science</em> by Adrian Cho on February 5, 2026</p></li>
<li><p><a href="https://frontofficesports.com/ncaa-refuses-settlement-talks-in-athlete-employment-lawsuit/">NCAA Refuses Settlement Talks in Athlete Employment Lawsuit</a> in <em>Front Office Sports</em> by Amanda Christovich on February 11, 2026</p></li>
<li><p><a href="https://www.fastcompany.com/91487984/how-aws-powered-next-gen-stats-changed-the-nfl-forever">How AWS-powered Next Gen Stats changed the NFL forever</a> in <em>Fast Company</em> by Steve Melendez on February 6, 2026</p></li>
<li><p><a href="https://www.nytimes.com/athletic/7046780/2026/02/16/inside-scouting-england-u15s-us/">‘It’s so competitive… it’s ridiculous’: Inside player scouting at England vs USA U15s</a> in <em>The Athletic</em> by Jacob Tanswell on February 16, 2026</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/newsletter\.bradstenger\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>